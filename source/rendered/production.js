var app={attrs:{disableScroll:!1,isIE8_9:!1,isMobile:!1,nav:{opened:void 0,animating:!1},navMobile:{opened:!1,animating:!1},slideshow:{interval:4e3,animation:800,state:[]},signupForm:{fixed:!1},animMethod:{}},query:function(e,a){var t=(e.indexOf(" "),e.substring(0,1),e.substring(1),a?a:document);return t.querySelectorAll(e)||[{}]},removeClassName:function(e,a){var t=new RegExp("(\\s|^)"+a+"(\\s|$)"),n=e.className.replace(t," ");e.className=n},toggleNav:function(e){var a,t=e.currentTarget||e.srcElement,n=t.rel,i=app.attrs.nav.opened;e.preventDefault?e.preventDefault():e.returnValue=!1,app.attrs.nav.animating||(i?i!==n?(app.attrs.nav.opened=n,a=app.query(".nav-li-a")[i],app.removeClassName(a.parentNode,"on"),t.parentNode.className+=" on"):(app.attrs.nav.opened=void 0,app.removeClassName(t.parentNode,"on")):(app.attrs.nav.opened=n,t.parentNode.className+=" on"))},toggleAction:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},disableEvent:function(e){e.preventDefault()},toggleDisableScroll:function(){app.attrs.disableScroll?(document.body.removeEventListener("touchmove",app.disableEvent),app.attrs.disableScroll=!1):(document.body.addEventListener("touchmove",app.disableEvent),app.attrs.disableScroll=!0)},toggleNavMobile:function(){app.attrs.navMobile.opened?app.hideNavMobile():app.showNavMobile(),app.toggleDisableScroll()},showNavMobile:function(){var e,a,t;app.attrs.navMobile.animating||(app.attrs.navMobile.animating=!0,app.attrs.navMobile.opened=!0,window.scrollTo(0,0),e=app.query(".nav-m")[0],a=app.query(".container")[0],e.style.display="block",t=Math.max(screen.height,window.innerHeight,e.clientHeight),a.style.overflow="hidden",t>e.offsetHeight&&(e.style.height=t+"px"),a.style.height=t+"px",setTimeout(function(){e.style.opacity="1",app.attrs.navMobile.animating=!1},1))},hideNavMobile:function(){var e,a;app.attrs.navMobile.animating||(app.attrs.navMobile.animating=!0,app.attrs.navMobile.opened=!1,e=app.query(".nav-m")[0],a=app.query(".container")[0],a.style.height="auto",e.style.height="auto",a.style.overflow="visible",e.style.opacity="0",setTimeout(function(){e.style.display="none",app.attrs.navMobile.animating=!1},200))},animateMethods:function(e){var a,t=[];switch(e){case"safari":a="-webkit-transform",t=["translate3d(",", 0, 0)"];break;case"chrome":a="-webkit-transform",t=["translate(",", 0)"];break;default:a="left",t=["",""]}this.attrs.animMethod={prop:a,value:t}},animateEl:function(e,a){var t=app.attrs.animMethod.prop,n=app.attrs.animMethod.value;e.style[t]=n[0]+a+n[1]},autoSlideshow:function(e,a){var t=this,n=app.query("li",e),i=n.length,o=e.className;e.appendChild(n[0].cloneNode(!0)),t.animateEl(e,"0%"),e.className+=" move",app.attrs.slideshow.state[a]={position:0,size:n.length},setInterval(function(){var n;t.attrs.slideshow.state[a].position+=1,n="-"+100*app.attrs.slideshow.state[a].position+"%",t.animateEl(e,n),app.attrs.slideshow.state[a].position===i&&(setTimeout(function(){e.className=o,t.animateEl(e,"0%"),app.attrs.slideshow.state[a].position=0},app.attrs.slideshow.animation),setTimeout(function(){e.className+=" move"},app.attrs.slideshow.animation+100))},app.attrs.slideshow.interval)},fixedFormWhenScroll:function(e){var a=e.offsetTop,t=app.query("body")[0],n=e.cloneNode(!0),i=function(){a=e.offsetTop},o=function(){var e=window.pageYOffset||window.document.documentElement.scrollTop;e>=a&&app.attrs.signupForm.fixed===!1?(app.attrs.signupForm.fixed=!0,n.style.display="block"):a>e&&app.attrs.signupForm.fixed===!0&&(app.attrs.signupForm.fixed=!1,n.style.display="")};n.className+=" fixed",t.appendChild(n),this.bindEvent(window,"scroll",o),this.bindEvent(window,"resize",i)},hidePlaceholder:function(e){var a=e.srcElement.parentNode,t=a.className;t.indexOf("hidePlaceholder")<0&&(a.className=t+" hidePlaceholder")},showPlaceholder:function(e){var a=e.srcElement.parentNode,t=app.query("input",a)[0];("undefined"==typeof t.value||""===t.value)&&app.removeClassName(a,"hidePlaceholder")},bindEvent:function(e,a,t){"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(a,t):e.attachEvent("on"+a,t))},bindSlideshow:function(){var e,a,t=this.query(".slideshow");for(this.animateMethods(navigator.userAgent.indexOf("Safari")>0?navigator.userAgent.indexOf("Chrome")>0?"chrome":"safari":"default"),a=0;a<t.length;a+=1)e=this.query("li",t[a]).length,e>1&&this.autoSlideshow(t[a],a)},bindNav:function(){var e,a=this,t=a.query(".nav-li-a"),n=function(e){var t=e.parentElement,n=app.query(".snd",t);n.length>0&&a.bindEvent(e,"click",a.toggleNav)};for(e=0;e<t.length;e+=1)n(t[e])},bindIEEvents:function(){var e,a,t,n=this,i=document.all&&!window.atob?!0:!1;if(this.attrs.isIE8_9=i,i)for(a=n.query(".signup-form .placeholder label"),t=n.query(".signup-form .placeholder input"),e=0;e<a.length;e+=1)n.bindEvent(a[e],"click",n.hidePlaceholder),n.bindEvent(t[e],"blur",n.showPlaceholder),n.bindEvent(t[e],"keyup",n.hidePlaceholder)},bindMobileNavEvent:function(){var e=this,a=e.query(".nav-m-close")[0],t=e.query(".nav-m-toggle")[0];e.attrs.isMobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("Android")>0||navigator.userAgent.indexOf("BlackBerry")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("IEMobile")>0?!0:!1,!e.attrs.isMobile&&e.query(".signup").length>0&&e.fixedFormWhenScroll(e.query(".signup")[0]),e.bindEvent(t,"click",e.toggleNavMobile),e.bindEvent(a,"click",e.toggleNavMobile)},init:function(){var e=this;e.bindSlideshow(),e.bindNav(),e.bindEvent(window,"orientationchange",e.hideNavMobile),e.bindMobileNavEvent(),e.bindIEEvents()}};app.init();